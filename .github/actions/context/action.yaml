name: context
description: |
  Show github context
inputs:
  foo:
    description: "foo inputs"
    required: false
  bar:
    description: "foo inputs"
    required: false
runs:
  using: "composite"
  steps:
    - uses: actions/checkout@v4
    - name: Dump environment
      run: |
        echo "::group::environment"
        env
        echo "::endgroup::"
      shell: bash
    - name: Dump GitHub context
      run: |
        echo "::group::GitHub context"
        echo "$CONTEXT"
        echo "::endgroup::"
      env:
        CONTEXT: ${{ toJson(github) }}
      shell: bash
    - name: Dump job context
      run: |
        echo "::group::Job context"
        echo "$CONTEXT"
        echo "::endgroup::"
      env:
        CONTEXT: ${{ toJson(job) }}
      shell: bash
    - name: Dump steps context
      run: |
        echo "::group::Steps context"
        echo "$CONTEXT"
        echo "::endgroup::"
      env:
        CONTEXT: ${{ toJson(steps) }}
      shell: bash
    - name: Dump runner context
      run: |
        echo "::group::Runner context"
        echo "$CONTEXT"
        echo "::endgroup::"
      env:
        CONTEXT: ${{ toJson(runner) }}
      shell: bash
    - name: Dump strategy context
      run: |
        echo "::group::Strategy context"
        echo "$CONTEXT"
        echo "::endgroup::"
      env:
        CONTEXT: ${{ toJson(strategy) }}
      shell: bash
    - name: Dump matrix context
      run: |
        echo "::group::Matrix context"
        echo "$CONTEXT"
        echo "::endgroup::"
      env:
        CONTEXT: ${{ toJson(matrix) }}
      shell: bash
