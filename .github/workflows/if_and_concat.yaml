name: if and concat
on: push

jobs:
  matrix_reference:
    strategy:
      matrix:
        sample: ["hoge", "fuga"]
    env:
      APP: hoge
    runs-on: ubuntu-latest
    steps:
      - run: echo "this is hoge JOIN"
        if: ${{ join('local', matrix.sample, '/') == 'local/hoge' }}
      - run: echo "this is fuga JOIN"
        if: ${{ join('local', matrix.sample, '/') == 'local/fuga' }}
      - run: echo "this is hoge FORMAT"
        if: ${{ format('local/{0}', matrix.sample) == 'local/hoge' }}
      - run: echo "this is fuga FORMAT"
        if: ${{ format('local/{0}', matrix.sample) == 'local/fuga' }}
